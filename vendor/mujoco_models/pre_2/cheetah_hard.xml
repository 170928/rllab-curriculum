<!-- Cheetah Model

    The state space is populated with joints in the order that they are
    defined in this file. The actuators also operate on joints.

    State-Space (name/joint/parameter):
        - rootx     slider      position (m)
        - rootz     slider      position (m)
        - rooty     hinge       angle (rad)
        - bthigh    hinge       angle (rad)
        - bshin     hinge       angle (rad)
        - bfoot     hinge       angle (rad)
        - fthigh    hinge       angle (rad)
        - fshin     hinge       angle (rad)
        - ffoot     hinge       angle (rad)
        - rootx     slider      velocity (m/s)
        - rootz     slider      velocity (m/s)
        - rooty     hinge       angular velocity (rad/s)
        - bthigh    hinge       angular velocity (rad/s)
        - bshin     hinge       angular velocity (rad/s)
        - bfoot     hinge       angular velocity (rad/s)
        - fthigh    hinge       angular velocity (rad/s)
        - fshin     hinge       angular velocity (rad/s)
        - ffoot     hinge       angular velocity (rad/s)

    Actuators (name/actuator/parameter):
        - bthigh    hinge       torque (N m)
        - bshin     hinge       torque (N m)
        - bfoot     hinge       torque (N m)
        - fthigh    hinge       torque (N m)
        - fshin     hinge       torque (N m)
        - ffoot     hinge       torque (N m)

-->

<mujoco model='cheetah'>
    <compiler inertiafromgeom='true' coordinate='local' angle='radian'
              settotalmass='14'/>

    <default>
        <joint islimited='true' damping='.01' compliance='1e-3' timeconst='1e-2'
               armature='.1' stiffness='8'/>
        <geom compliance='1e-3' timeconst='1e-2' contype='1' conaffinity='0'
              condim='3' friction='.4 .1 .1' rgba='0.8 0.6 .4 1' mindist='1e-2'/>
        <act-motor ctrlrange='-1 1' isctrllimited='true'/>
    </default>

    <size nstack='300000' ngeom_user='1'/>

    <option timestep='0.01' gravity='0 0 -9.81'/>

    <body>
        <geom name='ground' type='plane' conaffinity='1' pos='0 0 0'
              size='40 40 40' rgba='0.2 0.2 0.2 1'/>
        <body name='torso' pos='0 0 .7'>
            <joint name='rootx' type='slide' pos='0 0 0' axis='1 0 0'
                   islimited='false' damping='0' armature='0' stiffness='0'/>
            <joint name='rootz' type='slide' pos='0 0 0' axis='0 0 1'
                   islimited='false' damping='0' armature='0' stiffness='0'/>
            <joint name='rooty' type='hinge' pos='0 0 0' axis='0 1 0'
                   islimited='false' damping='0' armature='0' stiffness='0'/>
            <geom name='torso' type='capsule' fromto='-.5 0 0 .5 0 0'
                  size='0.046'/>
            <geom name='head' type='capsule' pos='.6 0 .1' axisangle='0 1 0 .87'
                  size='0.046 .15'/>
            <!-- <site name='tip'  pos='.15 0 .11'/> -->

            <body name='bthigh' pos='-.5 0 0'>
                <joint name='bthigh' type='hinge' pos='0 0 0' axis='0 1 0'
                       range='-2.0 2.0' stiffness='0' damping='6'/>
                <geom name='bthigh' type='capsule' pos='.1 0 -.13'
                      axisangle='0 1 0 -3.8' size='0.046 .145'/>
                <body name='bshin' pos='.16 0 -.25'>
                    <joint name='bshin' type='hinge' pos='0 0 0' axis='0 1 0'
                           range='-2.0 2.0' stiffness='0' damping='4.5'/>
                    <geom name='bshin' type='capsule' pos='-.14 0 -.07'
                          axisangle='0 1 0 -2.03' size='0.046 .15'
                          rgba='0.9 0.6 0.6 1'/>
                    <body name='bfoot' pos='-.28 0 -.14'>
                        <joint name='bfoot' type='hinge' pos='0 0 0'
                               axis='0 1 0' range='-2.0 2.0' stiffness='0'
                               damping='3'/>
                        <geom name='bfoot' type='capsule' pos='.03 0 -.097'
                              axisangle='0 1 0 -.27' size='0.046 .094'
                              rgba='0.9 0.6 0.6 1'/>
                    </body>
                </body>
            </body>


            <body name='fthigh' pos='.5 0 0'>
                <joint name='fthigh' type='hinge' pos='0 0 0' axis='0 1 0'
                       range='-2.0 2.0' stiffness='0' damping='4.5'/>
                <geom name='fthigh' type='capsule' pos='-.07 0 -.12'
                      axisangle='0 1 0 .52' size='0.046 .133'/>
                <body name='fshin' pos='-.14 0 -.24'>
                    <joint name='fshin' type='hinge' pos='0 0 0' axis='0 1 0'
                           range='-2.0 2.0' stiffness='0' damping='3'/>
                    <geom name='fshin' type='capsule' pos='.065 0 -.09'
                          axisangle='0 1 0 -.6' size='0.046 .106'
                          rgba='0.9 0.6 0.6 1'/>
                    <body name='ffoot' pos='.13 0 -.18'>
                        <joint name='ffoot' type='hinge' pos='0 0 0'
                               axis='0 1 0' range='-2.0 2.0' stiffness='0'
                               damping='1.5'/>
                        <geom name='ffoot' type='capsule' pos='.045 0 -.07'
                              axisangle='0 1 0 -.6' size='0.046 .07'
                              rgba='0.9 0.6 0.6 1'/>
                    </body>
                </body>
            </body>

        </body>
    </body>


    <actuator>
        <motor name='bthigh' joint='bthigh' gear='120'/>
        <motor name='bshin' joint='bshin' gear='90'/>
        <motor name='bfoot' joint='bfoot' gear='60'/>
        <motor name='fthigh' joint='fthigh' gear='120'/>
        <motor name='fshin' joint='fshin' gear='60'/>
        <motor name='ffoot' joint='ffoot' gear='30'/>
    </actuator>


    <textfield>
        <text name='cost' data='features.xml'/>
    </textfield>

</mujoco>
