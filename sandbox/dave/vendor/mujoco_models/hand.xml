<mujoco model="pr2(v1.22)">
    <compiler 	meshdir="Meshes/"
				coordinate="local"
				angle="radian"/>

	<option timestep="0.05" gravity="0 0 0" collision="all"/>
	<asset>
		<mesh file="base_L.stl"/>
		<mesh file="caster_L.stl"/>
		<mesh file="torso_lift_L.stl"/>
		<mesh file="head_pan_L.stl"/>
		<mesh file="head_tilt_L.stl"/>
		<mesh file="tilting_hokuyo_L.stl"/>
		<mesh file="shoulder_pan.stl"/>
		<mesh file="shoulder_lift.stl"/>
		<mesh file="upper_arm_roll_L.stl"/>
		<mesh file="upper_arm.stl"/>
		<mesh file="elbow_flex.stl"/>
		<mesh file="forearm_roll_L.stl"/>
		<mesh file="forearm.stl"/>


		<mesh file="wrist_flex.stl"/>
		<mesh file="wrist_roll_L.stl"/>
		<mesh file="gripper_palm.stl"/>
		<mesh file="l_finger.stl"/>
		<mesh file="l_finger_tip.stl"/>

		<material name="MatGnd" specular=".3" shininess=".3" reflectance="0.3" rgba=".5 .55 .5 1"/>
	</asset>



    <contact>
		<pair geom1="l_gripper_l_finger_tip" geom2="l_gripper_r_finger_tip"/>
        <pair geom1="l_gripper_l_finger_tip" geom2="brick"/>
        <pair geom1="l_gripper_r_finger_tip" geom2="brick"/>
        <pair geom1="table_geom" geom2="brick"/>
    </contact>

    <default>
        <joint limited="false" damping=".01" armature=".005" frictional="false"/>
        <geom contype="1" conaffinity="0" friction="1 0.1 0.1" type="mesh"/>
		<default class="gripper">
			<joint damping="0.005" armature=".005"/>
		</default>
    </default>

    <worldbody>
	<light directional="true" cutoff="4" exponent="20" diffuse="1 1 1" specular="0 0 0" pos=".5 0.75 1.5" dir="-.5 -0.75 -1.5"/>
	<geom name="gnd" material="MatGnd" type="plane" contype="0" conaffinity="1" pos="0 0 0" size="1.5 1.5 0.25"/>





    <body name="l_wrist_roll_link" pos="0 0 0.72" quat="0.707 0 0.707 0">

        <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01" />
        <joint armature="0" axis="0 0 1" damping="0" name="hand_x" pos="0 0 0" ref="0" stiffness="0" type="slide"/>
        <joint armature="0" axis="0 1 0" damping="0" name="hand_y" pos="0 0 0" ref="0" stiffness="0" type="slide"/>
        <!--joint armature="0" axis="1 0 0" damping="0" name="hand_z" pos="0 0 0" ref="0" stiffness="0" type="slide"/-->
        <body name="l_gripper_palm_link" pos="0.038 0 0" childclass="gripper">
            <inertial pos="0.06623 0.00053 -0.00119" quat="-0.018184 0.706274 0.016077 0.707523" mass="0.58007" diaginertia="0.000866 0.000678 0.000351" />
            <geom name="geom59" rgba="0.7 0.7 0.7 1" mesh="gripper_palm" pos="0 0 0"/>
            <body name="sensor" pos="0.01 0 0">
                <geom name="sensor" rgba="0.7 0.7 0.7 1" type="cylinder" size="0.022 0.019" pos="0 0 0" quat="-0.018184 0.706274 0.016077 0.707523"/>
            </body>
            <body name="l_gripper_led_frame" pos="0.0513 0 0.0244">
                <inertial pos="0 0 0" mass="0.001" diaginertia="0.000000 0.000000 0.000000" />
            </body>
            <body name="l_gripper_motor_accelerometer_link" pos="0 0 0">
                <inertial pos="0 0 0" mass="0.001" diaginertia="0.001 0.001 0.001" />
                <geom name="geom60" type="box" pos="0 0 0" size="0.0005 0.0005 0.0005" />
            </body>
            <body name="l_gripper_tool_frame" pos="0.18 0 0">
            </body>
                <body name="l_gripper_l_finger_link" pos="0.07691 0.01 0">
                <inertial pos="0.03598 0.0173 -0.00164" quat="0.574440 0.429111 0.518782 0.465562" mass="0.17126" diaginertia="0.000198 0.000181 0.000077" />
                <geom name="geom61" rgba="0.7 0.7 0.7 1" mesh="l_finger" />
                <body name="l_gripper_l_finger_tip_link" pos="0.09137 0.00495 0">
                    <inertial pos="0.00423 0.00284 0" quat="0.249588 0.661594 -0.249588 0.661594" mass="0.04419" diaginertia="0.000015 0.000015 0.000003" />
                    <geom name="l_gripper_l_finger_tip" rgba="0.7 0.7 0.7 1" mesh="l_finger_tip" />
                </body>

            </body>
            <body name="l_gripper_r_finger_link" pos="0.07691 -0.01 0">
                <inertial pos="0.03576 -0.01736 -0.00095" quat="0.474684 0.510909 0.446353 0.560727" mass="0.17389" diaginertia="0.000199 0.000181 0.000077" />
                <geom name="geom63" euler="3.14 0 0" rgba="0.7 0.7 0.7 1" mesh="l_finger" />


                <body name="l_gripper_r_finger_tip_link" pos="0.09137 -0.00495 0">
                    <site name="tip" pos="0 0 0" size="0.01"/>
                    <inertial pos="0.00423 -0.00284 0" quat="-0.249588 0.661594 0.249588 0.661594" mass="0.04419" diaginertia="0.000015 0.000015 0.000003" />
                    <geom name="l_gripper_r_finger_tip" euler="3.14 0 0" rgba="0.7 0.7 0.7 1" mesh="l_finger_tip" />
                </body>

        </body>
        </body>



        </body>
            <body name="table" pos="0 0 0">
            <inertial pos="0 0 0" mass="100.0" diaginertia="1.0 1.0 1.0"/>
            <geom name="table_geom" type="box" pos="0.6 0 0.42" size="0.5 1.0 0.05" rgba="0 0.3 0 1" contype="1" conaffinity="1" solref="0.001 1" solimp="0.999 0.999 0.001"/>
        </body>

        <!--red brick-->
        <body name="OBJ_brick1" pos ="0.6 0.2 0.5025">
            <joint type="free" />
            <site name="lego_target" pos="0 0 0" size="0.005"/>

            <inertial pos="0 0 0" mass="0.1" diaginertia="0.01 0.01 0.01"/>  #mass was 0.00001
            <geom name="brick" pos="0 0 0" type="box" size="0.0975 0.0475 0.0325" contype="1" conaffinity="1" rgba="1 0 0 1" solref="0.001 1" solimp="0.999 0.999 0.001"/>

        </body>

        <!--arm-->
        <body name="target" pos="0 0 0">
            <joint armature="0" axis="1 0 0" damping="0" name="target_x" pos="0 0 0" ref="0" stiffness="0" type="slide"/>
            <joint armature="0" axis="0 1 0" damping="0" name="target_y" pos="0 0 0" ref="0" stiffness="0" type="slide"/>
            <joint armature="0" axis="0 0 1" damping="0" name="target_z" pos="0 0 0" ref="0" stiffness="0" type="slide"/>
            <geom conaffinity="0" contype="0" name="target" pos="0 0 0" rgba="0.9 0.6 0.2 1" size=".02" type="sphere"/>
        </body>


    </worldbody>
    <actuator>
        <!--<motor joint="hand_x" ctrllimited="false"  forcelimited="false"/>-->
        <!--<motor joint="hand_y" ctrllimited="false" forcelimited="false" />-->
        <motor joint="hand_x" ctrllimited="true" ctrlrange="-3.0 3.0" forcelimited="true" forcerange="-10 10" />
        <motor joint="hand_y" ctrllimited="true" ctrlrange="-3.0 3.0" forcelimited="true" forcerange="-10 10" />
        <!--motor joint="hand_z"/-->
    </actuator>
</mujoco>

<!--0.1-->
<!--0.1-->

<!--10-->
<!--10-->