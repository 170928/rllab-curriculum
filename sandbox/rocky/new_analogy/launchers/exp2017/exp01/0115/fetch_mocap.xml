<?xml version="1.0" ?>
<mujoco model="clutter">
    <compiler angle="radian" coordinate="local" meshdir="/Users/dementrock/research/openai/gpr/gpr/worldgen/data"
              texturedir="/Users/dementrock/research/openai/gpr/gpr/worldgen/data"/>
    <size nuser_actuator="1" nuser_geom="1" nuser_jnt="1"/>
    <size nconmax="2000" njmax="2000"/>
    <option gravity="0 0 -9.810000" integrator="Euler" iterations="200" solver="CG" timestep="0.002000"
            viscosity="0.000000">
        <flag warmstart="disable"/>
    </option>
    <visual>
        <headlight active="1"/>
    </visual>
    <asset>
        <texture fileback="textures/warehouse/back.png" filedown="textures/warehouse/down.png"
                 filefront="textures/warehouse/front.png" fileleft="textures/warehouse/right.png"
                 fileright="textures/warehouse/left.png" fileup="textures/warehouse/up.png" type="skybox"/>
        <texture builtin="none" file="textures/wood.png" name="noise_texture0" type="2d"/>
        <material name="material0" texture="noise_texture0"/>
        <mesh file="robot/fetch/base_link_collision.stl" name="base_link"/>
        <mesh file="robot/fetch/bellows_link_collision.stl" name="bellows_link"/>
        <mesh file="robot/fetch/elbow_flex_link_collision.stl" name="elbow_flex_link"/>
        <mesh file="robot/fetch/estop_link.stl" name="estop_link"/>
        <mesh file="robot/fetch/forearm_roll_link_collision.stl" name="forearm_roll_link"/>
        <mesh file="robot/fetch/gripper_link.stl" name="gripper_link"/>
        <mesh file="robot/fetch/head_pan_link_collision.stl" name="head_pan_link"/>
        <mesh file="robot/fetch/head_tilt_link_collision.stl" name="head_tilt_link"/>
        <mesh file="robot/fetch/l_wheel_link_collision.stl" name="l_wheel_link"/>
        <mesh file="robot/fetch/laser_link.stl" name="laser_link"/>
        <mesh file="robot/fetch/r_wheel_link_collision.stl" name="r_wheel_link"/>
        <mesh file="robot/fetch/torso_lift_link_collision.stl" name="torso_lift_link"/>
        <mesh file="robot/fetch/shoulder_pan_link_collision.stl" name="shoulder_pan_link"/>
        <mesh file="robot/fetch/shoulder_lift_link_collision.stl" name="shoulder_lift_link"/>
        <mesh file="robot/fetch/upperarm_roll_link_collision.stl" name="upperarm_roll_link"/>
        <mesh file="robot/fetch/wrist_flex_link_collision.stl" name="wrist_flex_link"/>
        <mesh file="robot/fetch/wrist_roll_link_collision.stl" name="wrist_roll_link"/>
        <mesh file="robot/fetch/torso_fixed_link.stl" name="torso_fixed_link"/>
        <texture builtin="flat" height="512" mark="random" markrgb=".3 .3 .4" name="texgeom" random="0.05"
                 rgb1="1 1 1" rgb2="1 1 1" type="cube" width="512"/>
        <material name="geomMat" shininess=".03" specular="0.75" texture="texgeom"/>
        <texture builtin="checker" height="79" name="noise_texture3" rgb1="0 0 0"
                 rgb2="0.726371508787 0.159653317701 0.266560927974" type="2d" width="32"/>
        <material name="material3" texrepeat="8 20" texture="noise_texture3"/>
        <texture builtin="none" file="textures/chars/A.png" gridlayout=".U..LFRB.D.." gridsize="3 4"
                 name="noise_texture5" type="cube"/>
        <material name="material5" texture="noise_texture5"/>
        <texture builtin="none" file="textures/chars/B.png" gridlayout=".U..LFRB.D.." gridsize="3 4"
                 name="noise_texture7" type="cube"/>
        <material name="material7" texture="noise_texture7"/>
    </asset>
    <worldbody>
        <!--Mocap body for tele-op-->
        <body mocap="true" name="mocap_1" pos="0.785 0.000143139124 0.85">
            <geom conaffinity="0" contype="0" pos="-0.03 0 -0.005" rgba=".5 .5 .5 0.7" size="0.06 0.06 0.04"
                  type="box"/>
        </body>
        <body childclass="fetch_1" euler="0 0 0" name="base_link_1"
              pos="-0.313130503893 0.000143139124 0.0499991815504">
            <inertial diaginertia="1.2869 1.2236 0.986794" mass="70.1294" pos="-0.0036 0 0.0014"
                      quat="0.760522 -0.0132765 -0.00610742 0.649147"/>
            <geom class="fetchGrey_1" mesh="base_link"/>
            <!-- jonas: disabled because the wheels self-collide with the base -->
            <!--
        <body name="r_wheel_link" pos="0.0012914 -0.18738 0.055325">
            <inertial quat="0.707107 0 0 0.707107" mass="4.3542" diaginertia="0.005 0.0045 0.0045" pos="0 0 0"/>
            <joint damping="1" limited='false' name="robot:r_wheel_joint" axis="0 1 0" />
            <geom class="fetchBlue" mesh="r_wheel_link" />
        </body>
        <body name="l_wheel_link" pos="0.0012914 0.18738 0.055325">
            <inertial quat="0.707107 0 0 0.707107" mass="4.3542" diaginertia="0.005 0.0045 0.0045" pos="0 0 0"/>
            <joint damping="1" limited='false' name="robot:l_wheel_joint" axis="0 1 0" />
            <geom class="fetchBlue" mesh="l_wheel_link" />
        </body>-->
            <body name="torso_lift_link_1" pos="-0.086875 0 0.37743">
                <inertial diaginertia="0.33649 0.3354 0.09431" mass="10.7796" pos="-0.0013 -0.0009 0.2935"
                          quat="0.999265 -0.000621225 0.0335581 0.0184986"/>
                <!-- This value is hard coded to match robot. The next line contains previous ranges of joins for fetch. -->
                <joint axis="0 0 1" damping="1000" limited="true" name="robot:torso_lift_joint_1"
                       range="0.14228153228759766 0.14328153228759766" type="slide"/>
                <!--<joint axis="0 0 1" damping="1000" name="robot:torso_lift_joint" range="0.03861 0.38615" type="slide"/> -->
                <geom mesh="torso_lift_link"/>
                <body name="head_pan_link_1" pos="0.053125 0 0.603001">
                    <inertial diaginertia="0.0184878 0.0128242 0.00948808" mass="2.2556" pos="0.0321 0.0161 0.039"
                              quat="0.514814 0.545129 -0.452957 0.482318"/>
                    <!-- This value is hard coded to match robot. The next line contains previous ranges of joins for fetch. -->
                    <joint axis="0 0 1" limited="true" name="robot:head_pan_joint_1"
                           range="0.005536556243896484 0.005536556243896485"/>
                    <!--<joint axis="0 0 1" name="robot:head_pan_joint" range="-1.57 1.57"/>-->
                    <geom class="fetchGrey_1" mesh="head_pan_link"/>
                    <body name="head_tilt_link_1" pos="0.14253 0 0.057999">
                        <inertial diaginertia="0.00630102 0.00590111 0.00139787" mass="0.9087"
                                  pos="0.0081 0.0025 0.0113" quat="0.645806 0.659961 -0.274048 0.268857"/>
                        <!-- This value is hard coded to match robot. The next line contains previous ranges of joins for fetch. -->
                        <joint axis="0 1 0" limited="true" name="robot:head_tilt_joint_1"
                               range="0.7226640350158692 0.7226640350158693"/>
                        <!--<joint axis="0 1 0" name="robot:head_tilt_joint" range="-0.76 1.45"/>-->
                        <geom class="fetchBlue_1" mesh="head_tilt_link"/>
                        <body name="head_camera_link_1" pos="0.055 0 0.0225">
                            <inertial diaginertia="0 0 0" mass="0" pos="0.055 0 0.0225"/>
                            <body name="head_camera_rgb_frame_1" pos="0 0.02 0">
                                <inertial diaginertia="0 0 0" mass="0" pos="0 0.02 0"/>
                                <body name="head_camera_rgb_optical_frame_1" pos="0 0 0" quat="0.5 -0.5 0.5 -0.5">
                                    <inertial diaginertia="0 0 0" mass="0" pos="0 0 0" quat="0.5 -0.5 0.5 -0.5"/>
                                    <camera euler="3 0 0" fovy="40" name="head_camera_rgb"/>
                                </body>
                            </body>
                            <body name="head_camera_depth_frame_1" pos="0 0.045 0">
                                <inertial diaginertia="0 0 0" mass="0" pos="0 0.045 0"/>
                                <body name="head_camera_depth_optical_frame_1" pos="0 0 0" quat="0.5 -0.5 0.5 -0.5">
                                    <inertial diaginertia="0 0 0" mass="0" pos="0 0 0" quat="0.5 -0.5 0.5 -0.5"/>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
                <body name="shoulder_pan_link_1" pos="0.119525 0 0.34858">
                    <inertial diaginertia="0.00896934 0.00864854 0.00408212" mass="2.5587"
                              pos="0.0927 -0.0056 0.0564" quat="-0.136432 0.762398 -0.156155 0.612985"/>
                    <joint axis="0 0 1" name="robot:shoulder_pan_joint_1" range="-1.6056 1.6056"/>
                    <geom mesh="shoulder_pan_link"/>
                    <body name="shoulder_lift_link_1" pos="0.117 0 0.06">
                        <inertial diaginertia="0.0116011 0.0112 0.00229892" mass="2.6615"
                                  pos="0.1432 0.0072 -0.0001" quat="0.438152 0.438152 0.554998 0.554998"/>
                        <joint axis="0 1 0" name="robot:shoulder_lift_joint_1" range="-1.221 1.518"/>
                        <geom class="fetchBlue_1" mesh="shoulder_lift_link"/>
                        <body name="upperarm_roll_link_1" pos="0.219 0 0">
                            <inertial diaginertia="0.0047 0.00450384 0.00189616" mass="2.3311" pos="0.1165 0.0014 0"
                                      quat="-0.0135706 0.706977 0.0135706 0.706977"/>
                            <joint axis="1 0 0" limited="false" name="robot:upperarm_roll_joint_1"/>
                            <geom mesh="upperarm_roll_link"/>
                            <body name="elbow_flex_link_1" pos="0.133 0 0">
                                <inertial diaginertia="0.0086121 0.0084 0.0019879" mass="2.1299"
                                          pos="0.1279 0.0073 0" quat="0.43318 0.43318 0.558888 0.558888"/>
                                <joint axis="0 1 0" name="robot:elbow_flex_joint_1" range="-2.251 2.251"/>
                                <geom class="fetchBlue_1" mesh="elbow_flex_link"/>
                                <body name="forearm_roll_link_1" pos="0.197 0 0">
                                    <inertial diaginertia="0.0035 0.00306158 0.00153842" mass="1.6563"
                                              pos="0.1097 -0.0266 0" quat="-0.0714533 0.703487 0.0714533 0.703487"/>
                                    <joint armature="2.7537845662" axis="1 0 0" damping="3.52471388763"
                                           frictionloss="1.92094082418e-10" limited="false"
                                           name="robot:forearm_roll_joint_1" stiffness="9.99999941948"/>
                                    <geom mesh="forearm_roll_link"/>
                                    <body name="wrist_flex_link_1" pos="0.1245 0 0">
                                        <inertial diaginertia="0.00420416 0.0042 0.00179584" mass="1.725"
                                                  pos="0.0882 0.0009 -0.0001"
                                                  quat="0.4895 0.4895 0.510284 0.510284"/>
                                        <joint axis="0 1 0" name="robot:wrist_flex_joint_1" range="-2.16 2.16"/>
                                        <geom class="fetchBlue_1" mesh="wrist_flex_link"/>
                                        <body name="wrist_roll_link_1" pos="0.1385 0 0">
                                            <inertial diaginertia="0.0001 0.0001 0.0001" mass="0.1354"
                                                      pos="0.0095 0.0004 -0.0002"/>
                                            <joint axis="1 0 0" limited="false" name="robot:wrist_roll_joint_1"/>
                                            <geom mesh="wrist_roll_link"/>
                                            <body euler="0 0 0" name="gripper_link_1" pos="0.16645 0 0">
                                                <inertial diaginertia="0.0024 0.0019 0.0013" mass="1.5175"
                                                          pos="-0.09 -0.0001 -0.0017" quat="0 0.707107 0 0.707107"/>
                                                <geom mesh="gripper_link"/>
                                                <site name="grip" pos="0.02 0 0" rgba="1. 0. 0. 1."
                                                      size=".02 .02 .02"/>
                                                <body childclass="fetchGripper_1" name="r_gripper_finger_link_1"
                                                      pos="0 0.0159 0.0">
                                                    <inertial diaginertia="0.1 0.1 0.1" mass="4." pos="-0.01 0 0"/>
                                                    <joint axis="0 1 0" name="robot:r_gripper_finger_joint_1"
                                                           range="0 0.05"/>
                                                    <geom pos=".00 -.008 0" size="0.0385 0.007 0.0135" type="box"/>
                                                </body>
                                                <body childclass="fetchGripper_1" name="l_gripper_finger_link_1"
                                                      pos="0 -0.0159 0.0">
                                                    <inertial diaginertia="0.1 0.1 0.1" mass="4." pos="-0.01 0 0"/>
                                                    <joint axis="0 -1 0" name="robot:l_gripper_finger_joint_1"
                                                           range="0 0.05"/>
                                                    <geom pos=".00 .008 0" size="0.0385 0.007 0.0135" type="box"/>
                                                </body>
                                            </body>
                                        </body>
                                    </body>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
                <!-- jonas: disabled bellows for now, they only collide and don't improve realism. -->
                <!--<body name="bellows_link" pos="0 0 0">
                <inertial pos="0.019132 0 -0.134862" quat="1 0 1.66507e-05 0" mass="0.169374" diaginertia="0.00331159 0.00174447 0.00169418" />
                <joint limited='false' name="bellows_joint" axis="0 0 -1" type="slide" range="0 0.4" />
                <geom rgba="0 0 0 1" mesh="bellows_link" />
            </body>
            <body name="bellows_link2" pos="0 0 0">
                <inertial pos="0.019132 0 -0.134862" quat="1 0 1.66507e-05 0" mass="0.169374" diaginertia="0.00331159 0.00174447 0.00169418" />
                <geom rgba="0 0 0 1" mesh="bellows_link" />
            </body>-->

            <body name="estop_link_1" pos="-0.12465 0.23892 0.31127" quat="0.707105 0.707108 0 0">
                <inertial diaginertia="3.39072e-07 2.83252e-07 2.02321e-07" mass="0.0019613"
                          pos="0.00243451 -0.00330608 0.00665139" quat="0.37738 -0.18136 0.137509 0.897655"/>
                <geom mesh="estop_link" rgba="0.8 0 0 1"/>
            </body>
            <body name="laser_link_1" pos="0.235 0 0.2878" quat="0 1 0 0">
                <inertial diaginertia="1.30487e-06 1.00323e-06 5.03316e-07" mass="0.00833635"
                          pos="-0.0306229 0.000709168 0.0551974" quat="0.587803 0.537813 -0.457796 0.394548"/>
                <geom mesh="laser_link" rgba="0.792157 0.819608 0.933333 1"/>
                <camera euler="1.55 -1.55 3.14" fovy="25" name="lidar" pos="0 0 0.02"/>
            </body>
            <body name="torso_fixed_link_1" pos="-0.086875 0 0.377425">
                <inertial diaginertia="0.38649 0.339355 0.100855" mass="13.2775" pos="-0.0722 0.0057 0.2656"
                          quat="0.999473 0.0248609 0.0177115 0.0110025"/>
                <geom class="fetchBlue_1" mesh="torso_fixed_link"/>
            </body>
        </body>
        <body name="annotation:outer_bound_1" pos="0.126734748053 0.000142483473 0.596714609253">
            <geom conaffinity="0" contype="0" mass="0.0" pos="0 0 0" rgba="0 0 0 0"
                  size="0.726734748054 0.264142483473 0.546714609253" type="box"/>
        </body>
        <body name="geom4" pos="0.241794 -0.029940 0.475000">
            <geom conaffinity="1" condim="3" contype="1" mass="1.0" material="material5"
                  size="0.024950 0.024950 0.024950" type="box"/>
            <joint armature="0.0001" axis="1 0 0" damping="0.01" limited="false" name="geom4:slide0" pos="0 0 0"
                   type="slide"/>
            <joint armature="0.0001" axis="0 1 0" damping="0.01" limited="false" name="geom4:slide1" pos="0 0 0"
                   type="slide"/>
            <joint armature="0.0001" axis="0 0 1" damping="0.01" limited="false" name="geom4:slide2" pos="0 0 0"
                   type="slide"/>
            <joint armature="0.0001" axis="1 0 0" damping="0.01" limited="false" name="geom4:hinge0" pos="0 0 0"
                   type="hinge"/>
            <joint armature="0.0001" axis="0 1 0" damping="0.01" limited="false" name="geom4:hinge1" pos="0 0 0"
                   type="hinge"/>
            <joint armature="0.0001" axis="0 0 1" damping="0.01" limited="false" name="geom4:hinge2" pos="0 0 0"
                   type="hinge"/>
            <site name="geom0" pos="0.000000 0.000000 0.000000" rgba="0 0 1 1" size="0.010000 0.010000 0.010000"/>
        </body>
        <body name="geom6" pos="0.241794 0.072050 0.475000">
            <geom conaffinity="1" condim="3" contype="1" mass="1.0" material="material7"
                  size="0.024950 0.024950 0.024950" type="box"/>
            <joint armature="0.0001" axis="1 0 0" damping="0.01" limited="false" name="geom6:slide0" pos="0 0 0"
                   type="slide"/>
            <joint armature="0.0001" axis="0 1 0" damping="0.01" limited="false" name="geom6:slide1" pos="0 0 0"
                   type="slide"/>
            <joint armature="0.0001" axis="0 0 1" damping="0.01" limited="false" name="geom6:slide2" pos="0 0 0"
                   type="slide"/>
            <joint armature="0.0001" axis="1 0 0" damping="0.01" limited="false" name="geom6:hinge0" pos="0 0 0"
                   type="hinge"/>
            <joint armature="0.0001" axis="0 1 0" damping="0.01" limited="false" name="geom6:hinge1" pos="0 0 0"
                   type="hinge"/>
            <joint armature="0.0001" axis="0 0 1" damping="0.01" limited="false" name="geom6:hinge2" pos="0 0 0"
                   type="hinge"/>
            <site name="geom1" pos="0.000000 0.000000 0.000000" rgba="0 0 1 1" size="0.010000 0.010000 0.010000"/>
        </body>
        <body name="geom2" pos="0.250000 0.000000 0.250000">
            <geom conaffinity="1" condim="3" contype="1" mass="2000" material="material3"
                  size="0.202450 0.299950 0.199950" type="box"/>
        </body>
        <body name="floor" pos="0.000000 0.000000 0.025000">
            <geom condim="3" material="material0" size="0.75 0.75 0.025" type="box"/>
        </body>
    </worldbody>
    <actuator>
        <position ctrllimited="true" ctrlrange="0 .05" joint="robot:l_gripper_finger_joint_1" kp="1e4"
                  name="robot:l_gripper_finger_joint_1" user="1"/>
        <position ctrllimited="true" ctrlrange="0 .05" joint="robot:r_gripper_finger_joint_1" kp="1e4"
                  name="robot:r_gripper_finger_joint_1" user="1"/>
    </actuator>
    <default>
        <default class="fetch_1">
            <geom margin="0.001" material="geomMat" rgba="1 1 1 1" solimp="0.99 0.99 0.01" solref="0.01 1"
                  type="mesh" user="0"/>
            <joint armature="1" damping="50" frictional="true" frictionloss="0" stiffness="0"/>
            <default class="fetchGrey_1">
                <geom rgba="0.356 0.361 0.376 1"/>
            </default>
            <default class="fetchBlue_1">
                <geom rgba="0.086 0.506 0.767 1"/>
            </default>
            <default class="fetchGripper_1">
                <geom condim="4" margin="0.001" rgba="0.356 0.361 0.376 1" type="box" user="0"/>
                <joint armature="100" damping="1000" limited="true" solimplimit="0.99 0.999 0.01"
                       solreflimit="0.01 1" type="slide"/>
            </default>
        </default>
    </default>
    <equality>
        <weld body1="mocap_1" body2="gripper_link_1" solimp="0.9 0.95 0.001" solref="0.02 1"/>
    </equality>
    <contact>
        <exclude body1="r_gripper_finger_link_1" body2="l_gripper_finger_link_1"/>
        <exclude body1="torso_lift_link_1" body2="torso_fixed_link_1"/>
        <exclude body1="torso_lift_link_1" body2="shoulder_pan_link_1"/>
    </contact>
</mujoco>
